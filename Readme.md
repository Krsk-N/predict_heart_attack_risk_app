# Разработка приложения на FastAPI, выполняющее предсказание  риска сердечного приступа по данным о пациенте

**Описание проекта**

В этом проекте предполагается работа с датасетом из открытого источника. Нам потребуется разработать модель машинного обучения, а также подготовить библиотеку и интерфейс к ней для предсказания риска сердечных приступов на тестовой выборке данных о пациентах


**Цель**

Разработать модель машинного обучения для предсказания риска сердечных приступов по предоставленным данным пациентов


**План проекта**

Предполагается, что в ходе работы над проектом будут решены следующие задачи:
- Исследование датасета (предполагается поиск дополнительной информации для лучшего понимания природы данных)
- Предобработка данных
- Обучение модели
- Подготовка предсказания на тестовой выборке (Файл предсказаний должен быть в csv формате и содержать 2 столбца: “id” и “prediction”)
- Подготовка скриптов и библиотеки для обработки данных и предсказания на тестовой выборке
- Написание инструмента для тестирования
- Оформление документации

**Результат**

В результате у нас должно получиться приложение на FastAPI (или аналогичном фреймворке) которое принимает на вход путь к csv файлу тестовой выборки, выполняет предсказание (например, путем POST запроса к сервису) и возвращает ответ в формате JSON. Допускается для тестирования написать скрипт, который посылает запрос к запущенному ранее приложению, либо реализовать веб-интерфейс

    
**Описание данных**

Данные о пациентах находятся в двух файлах:
- `heart_test.csv` (тестовая выборка)
- `heart_train.csv` (тренеровочная выборка)

Перечень признаков:
- `id` - уникальный идентификатор пациента
- `Age` - возраст
- `Cholesterol` - холестерин
- `Heart rate` - частота сердечных сокращений (сердечный ритм)
- `Diabetes` - диабет (наличие: да-1/нет-0)
- `Family History` - Семейная история (наличие сердечных приступов у членов семьи: да-1/нет-0)
- `Smoking` - курение (да-1/нет-0)
- `Obesity` - ожирение (наличие: да-1/нет-0)
- `Alcohol Consumption` - Употребление алкоголя (да-1/нет-0)
- `Exercise Hours Per Week` - Часы упражнений в неделю 
- `Diet` - Диета 
(*относятся к системе лечебных диет, разработанной Певзнером, и обозначают различные диетические столы*)
- `Previous Heart Problems` - Предыдущие проблемы с сердцем (наличие: да-1/нет-0)
- `Medication Use` - Использование лекарств (да-1/нет-0)
- `Stress Level` - уровень стресса
- `Sedentary Hours Per Day` - Сидячие часы в день
- `Income` - доход
- `BMI` - индекс массы тела 
(*Это величина, применяемая для оценки степени соответствия роста и массы человека. Индекс массы тела рассчитывается по формуле: масса (кг)/ рост^2(м^2)*)
- `Triglycerides` - Триглицериды
- `Physical Activity Days Per Week` - Дней физической активности в неделю
- `Sleep Hours Per Day` - Часы сна в день
- `Blood sugar` - Содержание сахара в крови
- `CK-MB` - изофермент фермента креатинкиназы, который преимущественно содержится в сердечной мышце 
(*позволяет заподозрить инфаркт миокарда в первые часы от начала приступа и своевременно начать лечебные мероприятия. Нормой считается уровень фермента, находящийся в пределах 0-25 Ед/л. Также повышение уровня креатинкиназы может стать показателем инфаркта или воспаления сердечной мышцы, дистрофии скелетных мышц или воспалительного процесса в них*)
- `Troponin` - Тропонин 
(*Тропонин - это белок, который содержится в сердечной и скелетных мышцах. В крови здорового человека его концентрация обычно очень низкая. Однако, при повреждении сердечной мышцы, например, при инфаркте, уровень тропонина в крови значительно повышается, что делает его важным биомаркером для диагностики сердечных заболеваний*)
- `Gender` - Пол
- `Systolic blood pressure` - Систолическое артериальное давление
- `Diastolic blood pressure` - Диастолическое артериальное давление

Целевой признак (таргет)
- `Heart Attack Risk (Binary)` - Риск сердечного приступа (высокий-1/низкий-0)





**Файлы в репозитории:**

- каталог `predict_heart_attack_risk-app`:
    - каталог `app`:
        - `main.py` - приложение на FastAPI, которое принимает на вход путь к `csv` файлу тестовой выборки и выполняет предсказание
        - `pipeline_best_model.joblib` - сохраненный паплайн с подготовкой данных и лучшей моделью для классификации
        - `__init__.py` - пустой файл для инициализации приложения
        - каталог `templates`:
            - `index.html` - веб-интерфейс для пользовательского взаимодействия
    - `predictions_heart_attack_risk.ipynb` - файл Jupyter notebooks с исследованием и разработкой модели машинного обучения для предсказания риска сердечных приступов
    - `heart_train.csv` - тренеровочная выборка
    - `heart_test.csv` - тестовая выборка
    - `predictions_heart_attack_risk.csv` - файл с предсказаниями по данным тестовой выборки
    - `test.py` - скрипт для тестирования качества модели
    - `requirements.txt` - описание рекомендованных зависимостей
